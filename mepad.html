<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MePad V1 | Ruiqian Zhang</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
  <link rel="icon" href="icons/face.svg" type="image/svg+xml">

  <style>
    :root {
      /* Colors */
      --bg: #f2f0ef;
      --text: #111;
      --muted: #6b7280;
      --accent: #0b5fff;
      
      /* Dynamic UI Colors (Light Mode Defaults) */
      --hover-bg: rgba(11, 95, 255, 0.06);
      --border: rgba(16, 24, 40, 0.06);
      --section-bg: rgba(255, 255, 255, 0.4);
      --shadow-color: rgba(11, 95, 255, 0.08);
      
      /* Dimensions */
      --nav-height: 100px;
    }

    body.dark {
      --bg: #071221;
      --text: #f2f0ef;
      --muted: #98a6b3;
      --accent: #7ab7ff;
      
      /* Dark Mode Overrides */
      --hover-bg: rgba(255, 255, 255, 0.06);
      --border: rgba(255, 255, 255, 0.06);
      --section-bg: rgba(255, 255, 255, 0.03);
      --shadow-color: rgba(200, 200, 200, 0.18);
    }

    /* --- Base Layout --- */
    body {
      min-height: 100vh;
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: var(--bg);
      color: var(--text);
      overflow-x: hidden;
    }

    /* --- Shared Components --- */
    .icon-btn, .pill, .download-link {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      -webkit-tap-highlight-color: transparent;
      transition: transform 0.6s cubic-bezier(0.25, 1, 0.5, 1), background-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
      cursor: pointer;
      user-select: none;
    }

    /* Icon Buttons */
    .icon-btn {
      border-radius: 8px;
      border: 0;
      background: transparent;
      color: var(--muted);
      overflow: hidden;
    }
    .icon-btn.square { width: 44px; height: 44px; }
    
    .icon-btn:active, .pill:active { transform: scale(0.95); background: var(--hover-bg); transition-duration: 0.1s; }

    /* Slot Animation */
    .slot-scroller { display: flex; flex-direction: column; width: 100%; transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1); }
    .slot-label { height: 44px; display: flex; align-items: center; justify-content: center; width: 100%; flex-shrink: 0; }
    .icon-btn:hover .slot-scroller { transform: translateY(-44px); }

    /* Icon Masks */
    .icon-mask {
      display: block;
      background-color: currentColor; 
      -webkit-mask-repeat: no-repeat; mask-repeat: no-repeat;
      -webkit-mask-position: center; mask-position: center;
      -webkit-mask-size: contain; mask-size: contain;
    }
    
    /* Back Arrow (Rotated Up Arrow to Point Left) */
    .back-icon { 
      width: 16px; height: 16px;
      -webkit-mask-image: url('icons/up_arrow.svg'); 
      mask-image: url('icons/up_arrow.svg'); 
      transform: rotate(-90deg); 
    }

    /* Home Icon */
    .home-icon {
      width: 20px; height: 20px;
      -webkit-mask-image: url('icons/home.svg');
      mask-image: url('icons/home.svg');
    }
    
    /* Footer Arrow */
    .arrow-icon {
      width: 16px; height: 16px;
      -webkit-mask-image: url('icons/up_arrow.svg');
      mask-image: url('icons/up_arrow.svg');
    }

    /* Pills (Tags) */
    .pill {
      padding: 6px 12px; font-size: 13px;
      border-radius: 6px;
      background: var(--section-bg);
      border: 1px solid var(--border);
      color: var(--muted);
      font-weight: 500;
    }
    
    .pill-medicine {
      padding: 8px 16px; font-size: 13px;
      border-radius: 999px;
      background: var(--section-bg);
      border: 1px solid var(--border);
      color: var(--muted);
      font-weight: 500;
      display: inline-flex;
      align-items: center;
      gap: 8px; /* Added gap for the dot spacing */
    }

    /* --- Status Dot Styling (New) --- */
    
    /* 1. Reset the container to match basic pill style */
    .status-in-progress, .status-paused, .status-dropped, .status-completed {
        background: var(--section-bg) !important;
        border: 1px solid var(--border) !important;
        color: var(--muted) !important;
    }

    /* 2. Create the Dot using ::before */
    .status-in-progress::before,
    .status-paused::before,
    .status-dropped::before,
    .status-completed::before {
        content: '';
        display: block;
        width: 6px;
        height: 6px;
        border-radius: 50%;
        flex-shrink: 0;
    }

    /* 3. Dot Colors & Glow */
    .status-in-progress::before {
        background-color: #3b82f6;
        box-shadow: 0 0 6px #3b82f6;
    }

    .status-paused::before {
        background-color: #eab308;
        box-shadow: 0 0 6px #eab308;
    }

    .status-dropped::before {
        background-color: #ef4444;
        box-shadow: 0 0 6px #ef4444;
    }

    .status-completed::before {
        background-color: #22c55e;
        box-shadow: 0 0 6px #22c55e;
    }
    
    /* Content Card */
    .content-card {
      padding: 24px; border-radius: 16px;
      background: var(--section-bg); border: 1px solid var(--border);
      margin-bottom: 24px;
    }
    .content-card h3 { font-size: 18px; color: var(--text); margin: 0 0 4px 0; }
    .content-card .meta { font-size: 13px; color: var(--muted); margin-bottom: 12px; display: block; font-family: 'Inter', monospace; }
    .content-card p { margin: 0 0 16px 0; line-height: 1.6; color: var(--muted); font-size: 15px; }
    .content-card p:last-child { margin-bottom: 0; }
    .content-card ul { margin: 0; padding-left: 20px; color: var(--muted); font-size: 15px; }
    .content-card li { margin-bottom: 6px; }
    .content-card a { color: var(--accent); text-decoration: none; border-bottom: 1px solid transparent; transition: border-color 0.2s; }
    .content-card a:hover { border-bottom-color: var(--accent); }

    /* Requirements Grid */
    .req-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr); /* 2 Columns for sidebar fit */
      gap: 12px;
      margin-top: 16px;
      margin-bottom: 24px;
    }

    .req-item {
      display: flex;
      gap: 10px;
      padding: 16px 12px; /* Slight padding adjust for compact width */
      border-radius: 8px;
      background: var(--section-bg);
      border: 1px solid var(--border);
      align-items: center;
      justify-content: center;
      text-align: center;
      transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
    }

    @media (hover: hover) {
      .req-item:hover {
        transform: translateY(-2px);
        border-color: var(--accent);
        box-shadow: 0 4px 12px var(--shadow-color);
      }
    }

    .req-item-icon {
      flex-shrink: 0;
      width: 16px;
      height: 16px;
      margin-top: 1px;
      color: var(--accent);
      font-weight: bold;
    }

    .req-item-text {
      font-size: 14px; /* Slightly smaller text for sidebar */
      color: var(--text);
      line-height: 1.4;
      font-weight: 500;
    }

    /* Hover States */
    @media (hover: hover) {
      .icon-btn:hover, .pill:not(.pill-accent):hover {
        background: var(--hover-bg);
        color: var(--accent);
        transform: translateY(-3px) scale(1.02);
        box-shadow: 0 6px 18px var(--shadow-color);
      }
      .content-card:hover {
        border-color: var(--accent);
        transform: translateY(-2px);
        box-shadow: 0 8px 24px var(--shadow-color);
        transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
      }
    }

    /* --- Layout --- */
    .nav-wrapper { position: fixed; top: 0; left: 0; width: 100%; height: 0; z-index: 50; pointer-events: none; }
    
    /* Right Group (Home + Theme) */
    .nav-right-group { position: fixed; top: 20px; right: 20px; display: flex; gap: 12px; z-index: 100; pointer-events: auto; }
    
    /* Left Group (Back Button) */
    .nav-left-group { position: fixed; top: 20px; left: 20px; z-index: 100; pointer-events: auto; }

    .top-nav-bg {
      position: fixed; top: 0; left: 0; right: 0; height: var(--nav-height); z-index: 29; pointer-events: none;
      background: linear-gradient(to bottom, var(--bg) 0%, transparent 100%);
      backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
      -webkit-mask-image: linear-gradient(to bottom, black 40%, transparent 100%);
      mask-image: linear-gradient(to bottom, black 40%, transparent 100%);
      transition: background-color 0.32s ease;
    }

    .content-wrap { min-height: 100vh; display: flex; flex-direction: column; align-items: center; padding: 120px 20px 40px 20px; box-sizing: border-box; }
    
    /* Layout Container Logic */
    .container { width: 100%; max-width: 1100px; } /* Increased slightly for 2-col layout */

    .project-layout {
      display: flex;
      gap: 60px;
      align-items: flex-start;
      position: relative;
    }

    /* Left Sidebar (30%) */
    .project-sidebar {
      width: 30%;
      position: sticky;
      top: 130px; /* Offset for nav */
      flex-shrink: 0;
    }

    /* Right Feed (70%) */
    .project-feed {
      width: 70%;
      flex-grow: 1;
    }

    h1 { 
      font-size: 32px; 
      font-weight: 800; 
      margin-bottom: 24px;
      margin-top: 0px; 
      letter-spacing: -0.5px; 
      line-height: 1.2; 
    }
    h2 { font-size: 20px; font-weight: 600; color: var(--accent); margin: 0 0 24px 0; }
    p.intro { color: var(--muted); margin-bottom: 24px; line-height: 1.6; font-size: 16px; }

    .tag-row { 
        display: flex; 
        flex-wrap: wrap; 
        gap: 8px; 
        margin-bottom: 32px; 
        margin-top: 8px; /* Added slight top margin for spacing */
    }

    /* --- Footer --- */
    .site-footer-container { text-align: center; padding-bottom: 30px; }
    .site-footer { color: var(--muted); font-size: 14px; padding: 8px 16px; }
    
    /* Scroll to top - DESKTOP DEFAULT (Fixed Bottom Right) */
    .scroll-to-top { 
      position: fixed; 
      bottom: 20px; 
      right: 20px; 
      z-index: 100; 
      margin: 0;
      overflow: hidden; 
      align-items: flex-start !important; 
      padding: 0; 
      opacity: 0; /* Hidden by default */
      pointer-events: none; /* Not clickable when hidden */
      transition: opacity 0.3s ease, transform 0.6s cubic-bezier(0.25, 1, 0.5, 1), background-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
    }
    .scroll-to-top.visible {
        opacity: 1;
        pointer-events: auto;
    }
    
    .scroll-to-top .slot-label { height: 44px; width: 44px; }
    .scroll-to-top:hover .slot-scroller { transform: translateY(-44px); }

    /* Mobile / Tablet Responsiveness */
    @media (max-width: 900px) {
      .project-layout {
        flex-direction: column;
        gap: 40px;
      }
      .project-sidebar, .project-feed {
        width: 100%;
        position: static;
      }
      .req-grid {
        grid-template-columns: repeat(3, 1fr); /* Revert to 3 cols on mobile stack */
      }
      
      /* Mobile override for Scroll Button: Static center above footer */
      .scroll-to-top {
        position: relative;
        bottom: auto;
        right: auto;
        opacity: 1 !important; /* Always visible */
        pointer-events: auto;
        margin: 0 auto 20px auto; /* Centered */
      }
    }

    @media (max-width: 600px) {
      .req-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    /* --- Animations --- */
    .theme-transition, .theme-transition * { 
      transition: background-color 0.32s ease, border-color 0.32s ease, color 0s, box-shadow 0.32s ease !important; 
    }

    .reveal-flip {
      opacity: 0; transform: perspective(1000px) rotateX(-45deg) translateY(30px) scale(0.95);
      transform-origin: top center;
      transition: 0.8s cubic-bezier(0.16, 1, 0.3, 1);
    }
    .reveal-flip.visible { opacity: 1; transform: perspective(1000px) rotateX(0deg) translateY(0) scale(1); }
    .reveal-flip.reduced-opacity.visible { opacity: 0.75; }

    .char-flip {
      display: inline-block; opacity: 0; white-space: pre;
      transform: perspective(500px) rotateX(90deg) translateY(10px); transform-origin: bottom center;
      transition: 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    }
    .char-flip.visible { opacity: 1; transform: perspective(500px) rotateX(0deg) translateY(0); }

  </style>
</head>
<body>
  
  <script>
    (function() {
      const saved = localStorage.getItem('theme');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      document.body.style.transition = 'none';
      if (saved === 'dark' || (!saved && prefersDark)) document.body.classList.add('dark');
    })();
  </script>

  <div class="top-nav-bg"></div>

  <nav class="nav-wrapper">
    <div class="nav-left-group">
      <a href="projects.html" class="icon-btn square" aria-label="Back to Projects">
        <div class="icon-mask back-icon"></div>
      </a>
    </div>

    <div class="nav-right-group">
      <a href="index.html" class="icon-btn square" aria-label="Go to Home">
        <div class="icon-mask home-icon"></div>
      </a>
      
      <button id="theme-toggle" class="icon-btn square" aria-label="Toggle dark mode">
        <svg width="18" height="18" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 22C17.5228 22 22 17.5228 22 12C22 11.5373 21.3065 11.4608 21.0672 11.8568C19.9289 13.7406 17.8615 15 15.5 15C11.9101 15 9 12.0899 9 8.5C9 6.13845 10.2594 4.07105 12.1432 2.93276C12.5392 2.69347 12.4627 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" fill="currentColor"/>
        </svg>
      </button>
    </div>
  </nav>

  <div class="content-wrap">
    <div class="container">
      
      <div class="project-layout">
        <aside class="project-sidebar">
          <h1 class="split-flip-text">MePad V1</h1>
          
          <div class="tag-row reveal-flip">
            <span class="pill-medicine no-hover status-in-progress">In Progress</span>
            <span class="pill-medicine no-hover">Start Date: Jan 3, 2026</span>
          </div>

            <p class="intro reveal-flip">Welcome to my personal project, MePad! My take on the macro keypad.</p>
            <p class="intro reveal-flip">My primary objective is to explore the entire process of product development from identifying user needs to hardware design and software implementation.</p>
            
          <div class="reveal-flip">
            <h3 style="font-size: 16px; margin-bottom: 12px; color: var(--text);">Basic Requirements</h3>
            <div class="req-grid">
              <div class="req-item">
                <span class="req-item-text">Compact Design</span>
              </div>
              <div class="req-item">
                <span class="req-item-text">Hotswap Switches</span>
              </div>
              <div class="req-item">
                <span class="req-item-text">Audio Controls</span>
              </div>
              <div class="req-item">
                <span class="req-item-text">2 USB Ports</span>
              </div>
              <div class="req-item">
                <span class="req-item-text">Cheap</span>
              </div>
              <div class="req-item">
                <span class="req-item-text">3D Housing</span>
              </div>
            </div>
          </div>
        </aside>

        <section class="project-feed">
          <h2 class="reveal-flip">Dev Log</h2>

          <div class="content-card reveal-flip">
            <h3>Day 1: Layout Design</h3>
            <span class="meta">Jan 3, 2026</span>
            <p>Day one was the day I decided to start the project on a whim. I focused on researching and taking inspiration from online resources like Bilibili.</p>
            <p>I set the initial layout for the keypad using <a href="http://keyboard-layout-editor.com" target="_blank">keyboard-layout-editor.com</a>. The plan is to have 9 custom regular switch keys and 2 scroll knobsâ€”one for audio controls and one for scrolling through webpages or Premiere Pro timelines.</p>
          </div>

          <div class="content-card reveal-flip">
            <h3>Day 2: PCB Schematics & Firmware</h3>
            <span class="meta">Jan 5, 2026</span>
            <p>Today was a big day for learning and design. I dived into the electrical engineering side of keyboards:</p>
            <ul>
                <li>Learned how to optimize microcontroller connections using a switch matrix.</li>
                <li>Implemented diodes to avoid input ghosting.</li>
                <li>Built initial keyboard firmware with <a href="https://kbfirmware.com" target="_blank">kbfirmware.com</a>.</li>
                <li>Designed the PCB footprint using Autodesk Fusion 360 (Knobs: Top 15mm, Bottom 32mm).</li>
                <li>Finished PCB schematics with EasyEDA using a 32U4 main control board.</li>
            </ul>
          </div>

          <div class="content-card reveal-flip">
            <h3>Day 3: Component Placement</h3>
            <span class="meta">Jan 6, 2026</span>
            <p>Continued refining the PCB design, focusing on component placement to ensure components on the board fits within the planned housing constraints.</p>
          </div>

          <div class="content-card reveal-flip">
            <h3>Day 4: PCB Wiring</h3>
            <span class="meta">Jan 9, 2026</span>
            <p>Took zero time off! I was crashing at a friend's house and managed to get in some great workout sessions while keeping the momentum going on the routing.</p>
          </div>

          <div class="content-card reveal-flip reduced-opacity" style="text-align: center;">
            <h3 style="font-size: 20px; margin-bottom: 8px;">To be continued...</h3>
            <p style="color: var(--muted); font-size: 14px; margin: 0;">More updates coming soon as the development journey progresses...</p>
          </div>
        </section>
      </div>

    </div>
  </div>

  <div class="site-footer-container">
    <button class="icon-btn square scroll-to-top" id="scroll-to-top" aria-label="Scroll to top">
        <span class="slot-scroller">
            <span class="slot-label"><div class="icon-mask arrow-icon"></div></span>
            <span class="slot-label"><div class="icon-mask arrow-icon"></div></span>
        </span>
    </button>
    <footer class="site-footer">&copy; 2026 Ruiqian Zhang</footer>
  </div>

  <script>
    // --- UI Logic ---
    const UI = {
      body: document.body,
      toggleBtn: document.getElementById('theme-toggle'),
      scrollBtn: document.getElementById('scroll-to-top')
    };

    // --- 1. Load Animation ---
    window.addEventListener('load', () => {
      setTimeout(() => UI.body.style.transition = '', 100);
      
      // Title Sequence
      const chars = document.querySelectorAll('.char-flip');
      chars.forEach((c, i) => setTimeout(() => c.classList.add('visible'), i * 30));
      
      // Parallel Load Sequence (Synced Sidebar & Feed)
      setTimeout(() => {
        const sidebarItems = document.querySelectorAll('.project-sidebar .reveal-flip');
        const feedItems = document.querySelectorAll('.project-feed .reveal-flip');
        
        const maxLen = Math.max(sidebarItems.length, feedItems.length);

        for (let i = 0; i < maxLen; i++) {
          const delay = i * 150; // Stagger delay
          
          // Trigger Left Item
          if (sidebarItems[i]) {
            setTimeout(() => sidebarItems[i].classList.add('visible'), delay);
          }
          
          // Trigger Right Item (Synced)
          if (feedItems[i]) {
            setTimeout(() => feedItems[i].classList.add('visible'), delay);
          }
        }
      }, 300);
    });

    // --- 2. Theme Toggle ---
    UI.toggleBtn.addEventListener('click', () => {
      UI.body.classList.add('theme-transition');
      const isDark = UI.body.classList.toggle('dark');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
      setTimeout(() => UI.body.classList.remove('theme-transition'), 420);
    });

    // --- 3. Scroll to Top Logic (Custom Engine) ---
    function smoothScrollToTop() {
        const duration = 800;
        const startY = window.scrollY;
        const distance = -startY;
        let startTime = null;

        function animation(currentTime) {
            if (startTime === null) startTime = currentTime;
            const timeElapsed = currentTime - startTime;
            const progress = Math.min(timeElapsed / duration, 1);

            // EaseInOutCubic Easing
            const ease = progress < 0.5 
                ? 4 * progress * progress * progress 
                : 1 - Math.pow(-2 * progress + 2, 3) / 2;

            window.scrollTo(0, startY + (distance * ease));

            if (timeElapsed < duration) requestAnimationFrame(animation);
        }

        requestAnimationFrame(animation);
    }

    UI.scrollBtn.addEventListener('click', smoothScrollToTop);

    // Show button only when near bottom (Desktop only via JS toggling class, Mobile overrides via CSS)
    window.addEventListener('scroll', () => {
        const scrollPosition = window.innerHeight + window.scrollY;
        const bottomPosition = document.body.offsetHeight - 100;

        if (scrollPosition >= bottomPosition) {
            UI.scrollBtn.classList.add('visible');
        } else {
            UI.scrollBtn.classList.remove('visible');
        }
    });

    // --- 4. Split Text Init ---
    document.querySelectorAll('.split-flip-text').forEach(el => {
      const text = el.textContent;
      el.setAttribute('aria-label', text);
      el.innerHTML = ''; 
      text.split('').forEach(char => {
        const span = document.createElement('span');
        span.className = 'char-flip';
        span.textContent = char;
        el.appendChild(span);
      });
    });
  </script>

</body>
</html>